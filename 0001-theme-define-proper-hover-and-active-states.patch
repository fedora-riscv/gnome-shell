From 22531384f1737090cf6a72a35bebb6fef4d0b4ac Mon Sep 17 00:00:00 2001
From: Jakub Steiner <jimmac@gmail.com>
Date: Wed, 5 Sep 2018 20:33:56 +0200
Subject: [PATCH] theme: define proper :hover and :active states

- buttons didn't actually have these properly defined

fixes issue #523
---
 data/theme/gnome-shell-sass/_common.scss  | 5 +++--
 data/theme/gnome-shell-sass/_drawing.scss | 8 ++++----
 2 files changed, 7 insertions(+), 6 deletions(-)

diff --git a/data/theme/gnome-shell-sass/_common.scss b/data/theme/gnome-shell-sass/_common.scss
index 64f9b0264..37ac36231 100644
--- a/data/theme/gnome-shell-sass/_common.scss
+++ b/data/theme/gnome-shell-sass/_common.scss
@@ -48,17 +48,18 @@ stage {
   padding: 4px 32px;
   @include button(normal);
   &:focus { @include button(focus); }
+  &:hover { @include button(hover); }
   &:insensitive { @include button(insensitive); }
   &:active { @include button(active); }
-
 }
 
 .modal-dialog-linked-button {
   border-right-width: 1px;
   @include button(normal);
   &:insensitive { @include button(insensitive); }
-  &:active { @include button(active); }
   &:focus { @include button(focus); }
+  &:hover { @include button(hover); }
+  &:active { @include button(active); }
   padding: 12px;
 
   &:first-child {
diff --git a/data/theme/gnome-shell-sass/_drawing.scss b/data/theme/gnome-shell-sass/_drawing.scss
index 66d5adab6..7ac18b1bb 100644
--- a/data/theme/gnome-shell-sass/_drawing.scss
+++ b/data/theme/gnome-shell-sass/_drawing.scss
@@ -150,8 +150,8 @@
   //
   // focused button
   //
-    $_bg: if($c!=$osd_bg_color, transparentize($c, 0.5),
-                          $osd_bg_color);
+    $_bg: if($c!=$osd_bg_color, transparentize($c, 0.3),
+                          lighten($osd_bg_color,3%));
 
     color: $osd_fg_color;
     text-shadow: 0 1px black;
@@ -164,7 +164,7 @@
   // active osd button
   //
     $_bg: if($c!=$osd_bg_color, transparentize($c, 0.3),
-                            lighten($osd_bg_color,10%));
+                            lighten($osd_bg_color,3%));
 
     color: white;
     border-color: $osd_borders_color;
@@ -182,7 +182,7 @@
 
     color: white;
     border-color: $osd_borders_color;
-    background-color: darken($_bg,5%);
+    background-color: $selected_bg_color;
     // This should be none, but it's creating some issues with borders, so to
     // workaround it for now, use inset wich goes through a different code path.
     // see https://bugzilla.gnome.org/show_bug.cgi?id=752934
-- 
2.19.0

